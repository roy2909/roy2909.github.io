<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo.png">

<title>Custom built ROV/AUV | Rahul Roy</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Custom built ROV/AUV | Rahul Roy’s Portfolio</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Custom built ROV/AUV" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ROS2, Electrical Design, Mechanical Design, Python, Mavlink" />
<meta property="og:description" content="ROS2, Electrical Design, Mechanical Design, Python, Mavlink" />
<link rel="canonical" href="http://localhost:4000/halo_auv/" />
<meta property="og:url" content="http://localhost:4000/halo_auv/" />
<meta property="og:site_name" content="Rahul Roy’s Portfolio" />
<meta property="og:image" content="http://localhost:4000/assets/images/optimized_thumb.gif" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-03-15T00:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/images/optimized_thumb.gif" />
<meta property="twitter:title" content="Custom built ROV/AUV" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-03-15T00:00:00-05:00","datePublished":"2023-03-15T00:00:00-05:00","description":"ROS2, Electrical Design, Mechanical Design, Python, Mavlink","headline":"Custom built ROV/AUV","image":"http://localhost:4000/assets/images/optimized_thumb.gif","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/halo_auv/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo3.png"}},"url":"http://localhost:4000/halo_auv/"}</script>
<!-- End Jekyll SEO tag -->


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link href="/assets/css/screen.css" rel="stylesheet">

<link href="/assets/css/main.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

</head>




<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/assets/images/logo3.png" alt="Rahul Roy">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                
                <li class="nav-item">
                
                <a class="nav-link" href="/index.html">Projects</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="/JamesOubre_Resume">Resume</a>
                </li>

                <script src="/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">Rahul Roy</h1>
    <p class="lead">
        Northwestern MS in Robotics Student Portfolio
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                

                <!-- Post Title -->
                <h1 class="posttitle">Custom built ROV/AUV</h1>

            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                <!-- End Toc -->
                <p>ROS2, Electrical Design, Mechanical Design, Python, Mavlink</p>

<div align="center"><iframe width="700" height="394" src="https://www.youtube.com/embed/8WXNRmXKI5E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe></div>

<h2 id="overview">Overview</h2>

<div align="center"><h2> <a href="https://jamess-organization-15.gitbook.io/halo_auv_docs/">View the Halo Documentation</a></h2></div>

<p>Halo AUV is a robot I created to serve as platform for student’s in my master’s program at Northwestern University
to use to learn about underwater robotics and expand upon. Personally, I wanted to gain experience
in underwater robotics while also building a robot from the ground up. The robot can run as a remotely
operated vehicle (ROV) and has been integrated with ROS2 to further explore autonomous capabilities. Below is a block diagram
describing the architecture of the robot.</p>

<p align="center"><img src="https://user-images.githubusercontent.com/46512429/225735537-3376c1d1-477b-4449-94be-46e569b8983c.png" height="900" width="650" /></p>
<p align="center">Halo AUV Block Diagram</p>

<p>On Halo itself, the Pixhawk handles low level control and sends the commands to move the motors. It 
relays depth information from a barometer and heading information from its internal sensors to the Raspberry Pi.
The Raspberry Pi sends these sensor measurements alongside the camera stream via Ethernet to a laptop.
The measurements and camera stream are then sent to either QGroundControl (ROV mode) or to ROS2 nodes
that publish the images to a ROS topic and perform different control functions. In ROV mode, control input
comes from a PlayStation controller manned by a human. When high level control commands are received, they are
sent back to the Raspberry Pi over the Ethernet tether and eventually to the Pixhawk to move the robot.</p>

<h2 id="mechanical-design">Mechanical Design</h2>
<p>The key aspects of the mechanical design are that it is easy to manufacture, highly adjustable, and has the ability
to easily add on new payloads/sensors. The design is also centered around the BlueRobotics 3” and 4” watertight
enclosures.</p>

<div align="center"><h2> <a href="https://cad.onshape.com/documents/80b1bd153eeafd48236580f8/w/a8bef987ce7a6f7e2556b87e/e/c5365bc12b4a5414eba7a777?renderMode=0&amp;uiState=64133e72baa9af4c9b11d3a9">View the Mechanical Design</a></h2></div>

<p align="center"><img src="https://user-images.githubusercontent.com/46512429/225687785-9b64f344-fcf0-4a4d-b7c9-24ed178947cc.png" height="600" width="800" /></p>

<p align="center">Halo AUV</p>

<p>The frame itself is constructed of two parallel laser-cut pieces of acrylic that are mounted to the 
water tight enclosure and reinforced with multiple standoffs. Once the top and bottom frames are cut, 
the only tools needed to assemble the frame are common hex keys. The assembly process takes about 10 minutes.</p>

<p>The vehicle also consists of six slotted mounts along the bottom of the frame for adding and moving 
weights. These are used to adjust the vehicle’s overall weight and to align the it center of buoyancy 
with its center of gravity. This ensures that the vehicle is neutrally bouyant and level in the water.
The current design allows for weights to be added and shifted so
that adjustments can be made quickly. This is especially useful for adding new payloads to the vehicle
as they will change the weight and buoyancy balance of the robot. Additionally, floats may be added
to increase the buoyancy.</p>

<p align="center"><img src="https://user-images.githubusercontent.com/46512429/225508507-ff27e27a-fcbe-4740-a20d-61eb99ce611a.gif" height="200" width="280" /> <img src="https://user-images.githubusercontent.com/46512429/225509749-6b0fd71c-9194-4dd6-bf3e-4cb84fb6357f.gif" height="200" width="280" /> <img src="https://user-images.githubusercontent.com/46512429/225510365-459077d5-c2ea-4ec6-85bb-c2b0b1e0c81b.gif" height="200" width="280" /> </p>

<p align="center">Weight Sliders, Corner Weights, and Buoyancy Floats</p>

<p>Additionally, payloads and sensors can also be easily added to Halo. There are many mounting holes lining
all sides of the frame and going down the center. The weight mounts are a good example of how new payloads
may be added.</p>

<h2 id="electrical-design">Electrical Design</h2>

<p>The following image displays Halo’s electrical layout. Everything is powered from a 14.8 V 9000 mAh
LiPo battery. The motors receive 14.8 V power through motor controllers that receive commands from the Pixhawk. 
All other components are powered off of the output of a 5 V step down converter. Communication is established from the
topside computer to the robot via Cat5e cable. The camera and Pixhawk connect to the Raspberry Pi via USB. The depth sensor
communicates with the Pixhawk through I2C. Motor positions for the thrusters and camera gimbal are communicated through PWM
from the Pixhawk to the respective motors.</p>

<p align="center"><img src="https://user-images.githubusercontent.com/46512429/225513025-a6f9a9ca-644e-4e17-b3fe-7a8860e6f7c3.png" height="400" width="700" /> </p>

<p align="center">Wiring Diagram</p>

<h2 id="software">Software</h2>

<p>The onboard Raspberry Pi interfaces with the Pixhawk using the Ardusub companion software. The Pixhawk is also
 running the Ardusub firmware. The robot can be used as an ROV by downloading the QGroundControl (QGC) software.
When using the robot as an ROV, a user simply has to plug the robot’s tether into their laptop and 
run QGC. This software allows someone to control the robot with a standard video game controller while getting depth information, heading information, and a first person view from onboard the robot.</p>

<p align="center"><img src="https://user-images.githubusercontent.com/46512429/225519957-af670ed4-fafb-47be-807c-44130d4830f3.png" height="400" width="700" /> </p>
<p align="center">QGroundControl View in ROV Mode</p>

<p>Halo is also integrated with ROS2 through two nodes that handle control of the robot and publishing the stream from the robot’s
camera to a ROS topic.</p>

<p>The control node initializes contact with the robot via Mavlink to send commands and receive sensor data. When 
the node first starts, it reads in the robot’s current heading and depth to hold the AUV at those values. There are then two services
to move the robot’s heading and depth either to an absolute value or by a relative amount. The controllers for heading and depth were
implemented using PI control. Similarly, there is a controller to move the robot forward, however, there is no internal sensor to measure
its forward displacement. This controller could be implemented using an external measurement like an AprilTag.</p>

<p>The camera node reads in the camera stream from the robot via UDP. It then converts it to a gstream video feed to an OpenCV stream and then a
ROS2 sensor_msgs image message. This is then published to a ROS topic to be used by other nodes.</p>

<div align="center"><h2> <a href="https://github.com/oubrejames/halo_auv">View it on Github</a></h2></div>


            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2023-03-15">15 Mar 2023</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Electrical-Design">Electrical Design</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Mavlink">Mavlink</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Mechanical-Design">Mechanical Design</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Python">Python</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#ROS2">ROS2</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="/Gripper/"> &laquo; Motion Mirroring Robotic Arm</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="/antID/">Using Machine Learning to Identify Individual Ants &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="/categories#Computer-Vision">Computer Vision (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#OpenCV">OpenCV (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Python">Python (7)</a>
                
                    <a class="mt-1 mb-1" href="/categories#ROS1-Mechatronics">ROS1 Mechatronics (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#SLAM">SLAM (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Controls">Controls (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#C++">C++ (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Circuit-Design">Circuit Design (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Power-Systems">Power Systems (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#PCB-Design">PCB Design (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Digital-Logic">Digital Logic (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Mechanical-Design">Mechanical Design (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Manufacturng">Manufacturng (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Arduino">Arduino (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Sensors-&-Actuators">Sensors & Actuators (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#UR5-Robot-Arm">UR5 Robot Arm (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Manufacturing">Manufacturing (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Research">Research (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Intel-Realsense">Intel Realsense (3)</a>
                
                    <a class="mt-1 mb-1" href="/categories#PincherX-100">PincherX 100 (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Mobile-Manipulation-/-CoppeliaSim-/-PID-Control-/-Python">Mobile Manipulation / CoppeliaSim / PID Control / Python (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Dynamic-Systems">Dynamic Systems (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Simulation">Simulation (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Jupyter-Notebook">Jupyter Notebook (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#ROS2">ROS2 (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Motion-Planning">Motion Planning (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Moveit">Moveit (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Emika-Franka-Robot-Arm">Emika Franka Robot Arm (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#C">C (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Mechatronics">Mechatronics (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Embedded-Systems">Embedded Systems (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#I2C">I2C (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Electrical-Design">Electrical Design (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Mavlink">Mavlink (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Machine-Learning">Machine Learning (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#PyTorch">PyTorch (1)</a>
                
            
            
		</div>
	</div>
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                Copyright © 2023 Rahul Roy 
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish Jekyll Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//.disqus.com/count.js"></script>


</body>
</html>
